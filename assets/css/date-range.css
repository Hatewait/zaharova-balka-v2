/* Контейнер */
.data-range-row {
  display: flex;
  align-items: center;
  gap: var(--space-xl);
}
.date-range {
  display: flex;
  gap: var(--space-lg);
  width: 100%;
}

/* Плавающий лейбл */
.date-field {
  position: relative;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  gap: var(--space-xxs);
  width: max-content;
  /* чтобы псевдофокус по tab не ломал верстку */
  isolation: isolate;
}

/* Иконка */
.date-field__icon {
  position: absolute;
  right: 0;
  top: 1rem;
  width: 16px;
  height: 16px;
  pointer-events: none;
  display: block;
}

/* Инпут с нижней границей */
.date-field__input {
  --icon-color: var(--text-main);
  appearance: none;
  width: 100%;
  height: 2.6rem;
  padding-right: 28px; /* место под иконку */
  border-bottom: 1px solid var(--icons-secondary, #DCDCDC);
  color: var(--text-main);
  transition: border-color .2s ease, box-shadow .2s ease, background-color .2s ease;
}

/* Лейбл изначально работает как "placeholder" внутри поля */
.date-field__label {
  position: absolute;
  left: 0;
  top: 1rem; /* положение внутри поля */
  transform-origin: left top;
  pointer-events: none;
  color: var(--text-main);
  transition: top .18s ease, transform .18s ease, font-size .18s ease, color .18s ease, opacity .18s ease;
}

/* Показываем placeholder только при фокусе */
.date-field__input::placeholder {
  color: transparent;
}

.date-field.is-focused .date-field__input::placeholder {
  color: #9E9E9E;
}

/* Ховеры/фокусы инпута */
.date-field__input:hover {
  border-color: var(--icons-accent);
}

.date-field__input:focus {
  outline: none;
  border-color: var(--icons-accent);
}

/* Disabled (инпут) */
.date-field__input[disabled] {
  color: var(--buttons-disabled);
  border-color: #EAEAEA;
  background-color: #F7F7F7;
  cursor: not-allowed;
  opacity: .9;
}

/* Состояние: лейбл «припаркован» наверху (фокус или заполнено) */
.date-field.is-focused .date-field__label,
.date-field.is-filled .date-field__label {
  top: -.5rem;
  font-size: 12px;
  color: var(--text-main);
}


.flatpickr-calendar {
  border: 1px solid #EFEFEF;
  border-radius: 12px;
  overflow: hidden;
}

.flatpickr-months, .flatpickr-weekdays {
  background: #fff;
}

.flatpickr-months .flatpickr-month {
  height: 44px;
  background: var(--bg-neutral, rgba(220,220,220,0.20));
  padding: 0 4px;
}

.flatpickr-current-month {
  position: static;
  width: max-content;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-main);
}

.flatpickr-weekdays .flatpickr-weekday {
  font-size: 12px;
  font-weight: 500;
  color: #8C8C8C;
}

.flatpickr-day {
  color: var(--text-main);
  border-radius: 8px;
  border: none;
}

.flatpickr-day:hover {
  background: var(--buttons-primary-hover);
  color: #fff;
}

.flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange {
  background: var(--buttons-primary);
  color: #fff;
}

.flatpickr-day.inRange {
  background: color-mix(in srgb, var(--buttons-primary) 18%, white);
  color: var(--text-main);
  box-shadow: none;
}

.flatpickr-day.disabled, .flatpickr-day.notAllowed, .flatpickr-day.flatpickr-disabled {
  color: var(--buttons-disabled) !important;
  background: transparent !important;
  cursor: not-allowed;
}

.flatpickr-day.is-weekend {
  color: var(--text-accent);
}

.flatpickr-day.is-weekend:hover {
  color: #fff;
}

.flatpickr-prev-month, .flatpickr-next-month {
  color: var(--text-main);
}

.flatpickr-prev-month:hover, .flatpickr-next-month:hover {

}

.flatpickr-calendar.arrowTop:before, .flatpickr-calendar.arrowTop:after {
  display: none;
}

.flatpickr-day.selected.startRange, .flatpickr-day.startRange.startRange, .flatpickr-day.endRange.startRange {
  border-radius: 0.25rem;
}

.flatpickr-day.selected.endRange, .flatpickr-day.startRange.endRange, .flatpickr-day.endRange.endRange {
  border-radius: 0.25rem;
}

.flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange, .flatpickr-day.selected.inRange, .flatpickr-day.startRange.inRange, .flatpickr-day.endRange.inRange, .flatpickr-day.selected:focus, .flatpickr-day.startRange:focus, .flatpickr-day.endRange:focus, .flatpickr-day.selected:hover, .flatpickr-day.startRange:hover, .flatpickr-day.endRange:hover, .flatpickr-day.selected.prevMonthDay, .flatpickr-day.startRange.prevMonthDay, .flatpickr-day.endRange.prevMonthDay, .flatpickr-day.selected.nextMonthDay, .flatpickr-day.startRange.nextMonthDay, .flatpickr-day.endRange.nextMonthDay  {
  background: var(--buttons-primary-hover, #80011F);
  color: var(--white-main);
}

/* Шапка календаря: 3 колонки — стрелка | месяц/год | стрелка */
.flatpickr-months .flatpickr-month{

}

/* Центровка и типографика заголовка */
.flatpickr-current-month{
  justify-self: center;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-main);
  margin: 0;                          /* на всякий */
}

/* Месяц + год в одну линию */
.flatpickr-current-month .cur-month{
  font-weight: 600;
}
.flatpickr-current-month .numInputWrapper{
  display: inline-flex;
}
.flatpickr-current-month input.cur-year{
  pointer-events: none;               /* запрет ручного ввода */
  width: auto;
  padding: 0;
  margin: 0;
  border: 0;
  background: transparent;
  font: inherit;
  color: var(--text-main);
  -moz-appearance: textfield;
}
.flatpickr-current-month input.cur-year::-webkit-inner-spin-button,
.flatpickr-current-month input.cur-year::-webkit-outer-spin-button{
  -webkit-appearance: none;
  margin: 0;
}

/* Кнопки-стрелки слева/справа */
.flatpickr-prev-month,
.flatpickr-next-month{
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border-radius: 8px;
  color: var(--text-main);
  user-select: none;
}


/* На всякий случай скрыть селект месяцев, если тема/версия добавляет */
.flatpickr-current-month .flatpickr-monthDropdown-months{ display: none !important; }
.flatpickr-months {
  justify-content: space-between;
}
.flatpickr-months .flatpickr-prev-month svg, .flatpickr-months .flatpickr-next-month svg {
  width: 16px;
  height: 16px;
  fill: black;
}

.flatpickr-months .flatpickr-prev-month, .flatpickr-months .flatpickr-next-month {
  height: 44px;
  padding: 0;
}

.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)), .flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)), .flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {
  box-shadow: none;
}

.flatpickr-day.prevMonthDay,
.flatpickr-day.nextMonthDay { cursor: pointer; }
